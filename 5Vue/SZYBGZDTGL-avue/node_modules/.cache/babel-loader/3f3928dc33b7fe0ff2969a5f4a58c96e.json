{"remainingRequest":"E:\\兴才svn平台\\01苏州医保局\\88苏州医保中心岗位职责动态管理系统（SZYBGZDTGL）\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\babel-loader\\lib\\index.js!E:\\兴才svn平台\\01苏州医保局\\88苏州医保中心岗位职责动态管理系统（SZYBGZDTGL）\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\兴才svn平台\\01苏州医保局\\88苏州医保中心岗位职责动态管理系统（SZYBGZDTGL）\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\兴才svn平台\\01苏州医保局\\88苏州医保中心岗位职责动态管理系统（SZYBGZDTGL）\\0工程\\5Vue\\SZYBGZDTGL-avue\\src\\components\\iframe\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\兴才svn平台\\01苏州医保局\\88苏州医保中心岗位职责动态管理系统（SZYBGZDTGL）\\0工程\\5Vue\\SZYBGZDTGL-avue\\src\\components\\iframe\\main.vue","mtime":1640694382318},{"path":"E:\\兴才svn平台\\01苏州医保局\\88苏州医保中心岗位职责动态管理系统（SZYBGZDTGL）\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\兴才svn平台\\01苏州医保局\\88苏州医保中心岗位职责动态管理系统（SZYBGZDTGL）\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\兴才svn平台\\01苏州医保局\\88苏州医保中心岗位职责动态管理系统（SZYBGZDTGL）\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\兴才svn平台\\01苏州医保局\\88苏州医保中心岗位职责动态管理系统（SZYBGZDTGL）\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _defineProperty from \"E:/\\u5174\\u624Dsvn\\u5E73\\u53F0/01\\u82CF\\u5DDE\\u533B\\u4FDD\\u5C40/88\\u82CF\\u5DDE\\u533B\\u4FDD\\u4E2D\\u5FC3\\u5C97\\u4F4D\\u804C\\u8D23\\u52A8\\u6001\\u7BA1\\u7406\\u7CFB\\u7EDF\\uFF08SZYBGZDTGL\\uFF09/0\\u5DE5\\u7A0B/5Vue/SZYBGZDTGL-avue/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from \"vuex\";\nimport NProgress from \"nprogress\"; // progress bar\n\nimport \"nprogress/nprogress.css\"; // progress bar style\n\nexport default {\n  name: \"AvueIframe\",\n  data: function data() {\n    return {\n      urlPath: this.getUrlPath() //iframe src 路径\n\n    };\n  },\n  created: function created() {\n    NProgress.configure({\n      showSpinner: false\n    });\n  },\n  mounted: function mounted() {\n    this.load();\n    this.resize();\n  },\n  props: [\"routerPath\"],\n  watch: {\n    $route: function $route() {\n      this.load();\n    },\n    routerPath: function routerPath() {\n      // 监听routerPath变化，改变src路径\n      this.urlPath = this.getUrlPath();\n    }\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters([\"screen\"])), {}, {\n    src: function src() {\n      return this.$route.query.src ? this.$route.query.src.replace(\"$\", \"&\") : this.urlPath;\n    }\n  }),\n  methods: {\n    // 显示等待框\n    show: function show() {\n      NProgress.start();\n    },\n    // 隐藏等待狂\n    hide: function hide() {\n      NProgress.done();\n    },\n    // 加载浏览器窗口变化自适应\n    resize: function resize() {\n      var _this = this;\n\n      window.onresize = function () {\n        _this.iframeInit();\n      };\n    },\n    // 加载组件\n    load: function load() {\n      var _this2 = this;\n\n      this.show(); //超时3s自动隐藏等待狂，加强用户体验\n\n      var time = 3;\n      var timeFunc = setInterval(function () {\n        time--;\n\n        if (time == 0) {\n          _this2.hide();\n\n          clearInterval(timeFunc);\n        }\n      }, 1000);\n      this.iframeInit();\n    },\n    //iframe窗口初始化\n    iframeInit: function iframeInit() {\n      var _this3 = this;\n\n      var iframe = this.$refs.iframe;\n      var clientHeight = document.documentElement.clientHeight - (screen > 1 ? 200 : 130);\n      if (!iframe) return;\n      iframe.style.height = \"\".concat(clientHeight, \"px\");\n\n      if (iframe.attachEvent) {\n        iframe.attachEvent(\"onload\", function () {\n          _this3.hide();\n        });\n      } else {\n        iframe.onload = function () {\n          _this3.hide();\n        };\n      }\n    },\n    getUrlPath: function getUrlPath() {\n      //获取 iframe src 路径\n      var url = window.location.href;\n      url = url.replace(\"/myiframe\", \"\");\n      return url;\n    }\n  }\n};",{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AASA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,SAAA,MAAA,WAAA,C,CAAA;;AACA,OAAA,yBAAA,C,CAAA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KAAA,UAAA,EADA,CACA;;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAPA,qBAOA;AACA,IAAA,SAAA,CAAA,SAAA,CAAA;AAAA,MAAA,WAAA,EAAA;AAAA,KAAA;AACA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,IAAA;AACA,SAAA,MAAA;AACA,GAbA;AAcA,EAAA,KAAA,EAAA,CAAA,YAAA,CAdA;AAeA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AACA,WAAA,IAAA;AACA,KAHA;AAIA,IAAA,UAAA,EAAA,sBAAA;AACA;AACA,WAAA,OAAA,GAAA,KAAA,UAAA,EAAA;AACA;AAPA,GAfA;AAwBA,EAAA,QAAA,kCACA,UAAA,CAAA,CAAA,QAAA,CAAA,CADA;AAEA,IAAA,GAFA,iBAEA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,GAAA,GACA,KAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA,CAAA,GAAA,EAAA,GAAA,CADA,GAEA,KAAA,OAFA;AAGA;AANA,IAxBA;AAgCA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,IAFA,kBAEA;AACA,MAAA,SAAA,CAAA,KAAA;AACA,KAJA;AAKA;AACA,IAAA,IANA,kBAMA;AACA,MAAA,SAAA,CAAA,IAAA;AACA,KARA;AASA;AACA,IAAA,MAVA,oBAUA;AAAA;;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,YAAA;AACA,QAAA,KAAA,CAAA,UAAA;AACA,OAFA;AAGA,KAdA;AAeA;AACA,IAAA,IAhBA,kBAgBA;AAAA;;AACA,WAAA,IAAA,GADA,CAEA;;AACA,UAAA,IAAA,GAAA,CAAA;AACA,UAAA,QAAA,GAAA,WAAA,CAAA,YAAA;AACA,QAAA,IAAA;;AACA,YAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA;;AACA,UAAA,aAAA,CAAA,QAAA,CAAA;AACA;AACA,OANA,EAMA,IANA,CAAA;AAOA,WAAA,UAAA;AACA,KA5BA;AA6BA;AACA,IAAA,UA9BA,wBA8BA;AAAA;;AACA,UAAA,MAAA,GAAA,KAAA,KAAA,CAAA,MAAA;AACA,UAAA,YAAA,GACA,QAAA,CAAA,eAAA,CAAA,YAAA,IAAA,MAAA,GAAA,CAAA,GAAA,GAAA,GAAA,GAAA,CADA;AAEA,UAAA,CAAA,MAAA,EAAA;AACA,MAAA,MAAA,CAAA,KAAA,CAAA,MAAA,aAAA,YAAA;;AACA,UAAA,MAAA,CAAA,WAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,MAAA,CAAA,IAAA;AACA,SAFA;AAGA,OAJA,MAIA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,YAAA;AACA,UAAA,MAAA,CAAA,IAAA;AACA,SAFA;AAGA;AACA,KA7CA;AA8CA,IAAA,UAAA,EAAA,sBAAA;AACA;AACA,UAAA,GAAA,GAAA,MAAA,CAAA,QAAA,CAAA,IAAA;AACA,MAAA,GAAA,GAAA,GAAA,CAAA,OAAA,CAAA,WAAA,EAAA,EAAA,CAAA;AACA,aAAA,GAAA;AACA;AAnDA;AAhCA,CAAA","sourcesContent":["<template>\r\n  <basic-container style=\"height: 100%\">\r\n    <iframe :src=\"src\"\r\n            class=\"iframe\"\r\n            ref=\"iframe\"></iframe>\r\n  </basic-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport NProgress from \"nprogress\"; // progress bar\r\nimport \"nprogress/nprogress.css\"; // progress bar style\r\nexport default {\r\n  name: \"AvueIframe\",\r\n  data () {\r\n    return {\r\n      urlPath: this.getUrlPath() //iframe src 路径\r\n    };\r\n  },\r\n  created () {\r\n    NProgress.configure({ showSpinner: false });\r\n  },\r\n  mounted () {\r\n    this.load();\r\n    this.resize();\r\n  },\r\n  props: [\"routerPath\"],\r\n  watch: {\r\n    $route: function () {\r\n      this.load();\r\n    },\r\n    routerPath: function () {\r\n      // 监听routerPath变化，改变src路径\r\n      this.urlPath = this.getUrlPath();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"screen\"]),\r\n    src () {\r\n      return this.$route.query.src\r\n        ? this.$route.query.src.replace(\"$\", \"&\")\r\n        : this.urlPath;\r\n    }\r\n  },\r\n  methods: {\r\n    // 显示等待框\r\n    show () {\r\n      NProgress.start();\r\n    },\r\n    // 隐藏等待狂\r\n    hide () {\r\n      NProgress.done();\r\n    },\r\n    // 加载浏览器窗口变化自适应\r\n    resize () {\r\n      window.onresize = () => {\r\n        this.iframeInit();\r\n      };\r\n    },\r\n    // 加载组件\r\n    load () {\r\n      this.show();\r\n      //超时3s自动隐藏等待狂，加强用户体验\r\n      let time = 3;\r\n      const timeFunc = setInterval(() => {\r\n        time--;\r\n        if (time == 0) {\r\n          this.hide();\r\n          clearInterval(timeFunc);\r\n        }\r\n      }, 1000);\r\n      this.iframeInit();\r\n    },\r\n    //iframe窗口初始化\r\n    iframeInit () {\r\n      const iframe = this.$refs.iframe;\r\n      const clientHeight =\r\n        document.documentElement.clientHeight - (screen > 1 ? 200 : 130);\r\n      if (!iframe) return;\r\n      iframe.style.height = `${clientHeight}px`;\r\n      if (iframe.attachEvent) {\r\n        iframe.attachEvent(\"onload\", () => {\r\n          this.hide();\r\n        });\r\n      } else {\r\n        iframe.onload = () => {\r\n          this.hide();\r\n        };\r\n      }\r\n    },\r\n    getUrlPath: function () {\r\n      //获取 iframe src 路径\r\n      let url = window.location.href;\r\n      url = url.replace(\"/myiframe\", \"\");\r\n      return url;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.iframe {\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 0;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n}\r\n</style>"],"sourceRoot":"src/components/iframe"}]}