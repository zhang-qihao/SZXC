{"remainingRequest":"C:\\Users\\10415\\Desktop\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\10415\\Desktop\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\10415\\Desktop\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\10415\\Desktop\\0工程\\5Vue\\SZYBGZDTGL-avue\\src\\views\\szybgzdtgl\\baseinfo\\staffInfo\\staffdetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\10415\\Desktop\\0工程\\5Vue\\SZYBGZDTGL-avue\\src\\views\\szybgzdtgl\\baseinfo\\staffInfo\\staffdetail.vue","mtime":1660639793839},{"path":"C:\\Users\\10415\\Desktop\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\10415\\Desktop\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\10415\\Desktop\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\10415\\Desktop\\0工程\\5Vue\\SZYBGZDTGL-avue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"C:/Users/10415/Desktop/0\\u5DE5\\u7A0B/5Vue/SZYBGZDTGL-avue/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BaseCtrl } from '/src/util/eframe';\nimport { cardid } from \"/src/util/validate\"; //身份证校验组件\n\nimport infoDic from \"./infoDic\";\nimport { mapGetters } from \"vuex\";\nimport constData from \"../../../../const\";\nexport default {\n  name: \"persadd\",\n  mixins: [BaseCtrl],\n  computed: _objectSpread({}, mapGetters([\"userInfo\"])),\n  data: function data() {\n    var _this = this;\n\n    var validateID = function validateID(rule, value, callback) {\n      if (cardid(value)[0]) {\n        callback(new Error(cardid(value)[1]));\n      } else {\n        _this.form.aac006 = value.substr(6, 8);\n        callback();\n      } //  callback(new Error(\"请输入4位数的验证码\"));\n      //alert(1);\n\n    };\n\n    return {\n      compAccept: 'jpg,png',\n      compValueList: [],\n      title1: '人员综合信息详情',\n      //弹窗标题\n      onrequire: false,\n      form: {\n        // 页面数据表单\n        ac01id: '',\n        // 用户人员id\n        base64: '',\n        // 上传文件字符串\n        aac003: '',\n        // 人员姓名\n        aac004: '',\n        // 性别\n        aac147: '',\n        // 证件号码\n        aac039: '',\n        // 人员性质\n        aac006: '',\n        // 出生日期\n        aac029: '',\n        // 政治面貌\n        aac049: '',\n        // 职务\n        aac051: '',\n        // 任该职务时间\n        aac059: '',\n        // 职级\n        aac061: '',\n        // 任该职级时间\n        ks001: '',\n        // 所属科室\n        gwdate: '' // 任岗时间\n\n      }\n    };\n  },\n  created: function created() {\n    this.loadData();\n    this.loadDocument();\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.$refs['grid1'].setInitFun(function (queryGrid) {\n        _this2.doQuery();\n      });\n    });\n  },\n  methods: {\n    loadData: function loadData() {\n      //获取主页面参数\n      var params = this.$attrs.params.dataItem;\n\n      if (params) {\n        if (params.get('AC01ID')) {\n          this.form.ac01id = params.get('AC01ID');\n        }\n\n        if (params.get('姓名')) {\n          this.form.aac003 = params.get('姓名');\n        }\n\n        if (params.get('性别')) {\n          this.form.aac004 = infoDic.dic_AAC004[params.get('性别')];\n        }\n\n        if (params.get('证件号码')) {\n          this.form.aac147 = params.get('证件号码');\n        }\n\n        if (params.get('人员性质')) {\n          this.form.aac039 = infoDic.dic_AAC039[params.get('人员性质')];\n        }\n\n        if (params.get('出生日期')) {\n          this.form.aac006 = params.get('出生日期').split(' ')[0];\n        }\n\n        if (params.get('政治面貌')) {\n          this.form.aac029 = infoDic.dic_AAC029[params.get('政治面貌')];\n        }\n\n        if (params.get('职务')) {\n          this.form.aac049 = infoDic.dic_AAC049[params.get('职务')];\n        }\n\n        if (params.get('任职务时间')) {\n          this.form.aac051 = params.get('任职务时间').split(' ')[0];\n        }\n\n        if (params.get('职级')) {\n          this.form.aac059 = infoDic.dic_AAC059[params.get('职级')];\n        }\n\n        if (params.get('任职级时间')) {\n          this.form.aac061 = params.get('任职级时间').split(' ')[0];\n        }\n\n        if (params.get('所属科室')) {\n          this.form.ks001 = params.get('所属科室');\n        }\n\n        if (params.get('任岗时间')) {\n          this.form.gwdate = params.get('任岗时间').split(' ')[0];\n        }\n      }\n    },\n    //加载照片\n    loadDocument: function loadDocument() {\n      var that = this;\n      var form2 = {\n        ac01id: this.form.ac01id\n      };\n\n      var callbackFun = function callbackFun(data) {\n        //that.form = data\n\n        /*if(isNotNull(data.registertime)){\r\n          that.form.registertime = data.registertime.substring(0,10)\r\n        }*/\n        // that.form.fixmedins_name = \"苏州市阳澄湖生态休闲旅游度假区阳澄湖畔花苑社区卫生服务站\"\n        if (isNotNull(data.base64)) {\n          that.form.base64 = data.base64;\n          $(\"#docid\").attr(\"src\", \"data:image/jpeg;base64,\" + data.base64);\n        }\n      };\n\n      this.$eframe.submitTargetForm({\n        url: '/szybgzdtgl/baseinfo/pers/persinfomgt.action',\n        form: form2,\n        actionFunName: \"loadDocument\",\n        succFun: callbackFun,\n        failFun: null\n      });\n    },\n    doQuery: function doQuery() {\n      var that = this;\n      var whereCondition = \"1=1\";\n\n      if (that.form.info !== null && that.form.info !== \"\") {\n        whereCondition += \" and Ac01id = '\" + this.form.ac01id + \"'\";\n      }\n\n      var queryGrid = this.$refs['grid1'].getWidget();\n\n      queryGrid.selectAll = function (e, grid) {\n        console.log(\"selectAll\");\n      };\n\n      queryGrid.selectRow = function (e, dataItem, grid, row) {\n        console.log(\"selectRole\" + dataItem.QUERYNO);\n      };\n\n      queryGrid.doRefresh({\n        whereCondition: whereCondition,\n        parameters: {\n          ac01id: that.form.ac01id\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["staffdetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-container style=\"height: 100%;height: 600px\">\r\n    <!--    页头-->\r\n    <el-header>\r\n      <div class=\"header-left\">\r\n        <div class=\"header-title\" slot=\"title\" style=\"color: #0eb1a1\">{{ title1 }}</div>\r\n      </div>\r\n      <div class=\"header-right\"/>\r\n    </el-header>\r\n\r\n    <!--    主视图-->\r\n    <el-main style=\"height: calc(100% - 37px);overflow: auto;\">\r\n      <div class=\"main-content\">\r\n        <!--        人员基础信息块-->\r\n        <base-block class=\"out-block\" rounded ref=\"exampleBlock2\">\r\n          <div class=\"header-title\" slot=\"title\">人员基础信息</div>\r\n\r\n          <el-form ref=\"form\" :model=\"form\" label-position=\"left\" label-width=\"auto\">\r\n\r\n\r\n            <el-row :gutter=\"24\">\r\n              <el-col :span=\"6\">\r\n                <!--            工作照div-->\r\n                <div id=\"div_picture\" style=\"text-align: center\">\r\n                  <img width=\"100\" height=\"120\" style=\"margin-left: 5px;\" id=\"docid\"\r\n                       src=\"/util/screen/gerenzhaopian.png\"/><br>\r\n                  <div id=\"div_work_picture\" style=\"text-align: center\">\r\n                    <span><span style=\"color: red\">*</span>工作照</span>\r\n                  </div>\r\n                </div><!--工作照结束-->\r\n              </el-col>\r\n\r\n              <el-col :span=\"18\">\r\n                <!--            基础信息div-->\r\n                <div id=\"div_basic_info\">\r\n                  <!--              第一行-->\r\n                  <el-row :gutter=\"24\" style=\"margin-top: 10px\">\r\n                    <!--                第一行第一列-->\r\n                    <el-col :span=\"12\">\r\n                      <ef-text label=\"人员姓名\" v-model=\"form.aac003\" name=\"aac003\" :require=\"false\" readonly=\"true\"/>\r\n                    </el-col>\r\n                    <!--                第一行第二列-->\r\n                    <el-col :span=\"12\">\r\n                      <ef-text label=\"性别\" name=\"aac004\" v-model=\"form.aac004\" :require=\"false\" readonly=\"true\"/>\r\n                    </el-col>\r\n                  </el-row>\r\n\r\n                  <!--              第二行-->\r\n                  <el-row :gutter=\"24\" style=\"margin-top: 15px\">\r\n                    <!--                第二行第一列-->\r\n                    <el-col :span=\"12\">\r\n                      <ef-text label=\"证件号码\" name=\"aac147\" v-model=\"form.aac147\" :require=\"false\" readonly=\"true\"/>\r\n                    </el-col>\r\n                    <!--                第二行第二列-->\r\n                    <el-col :span=\"12\">\r\n                      <ef-text label=\"人员性质\" name=\"aac039\" v-model=\"form.aac039\" :require=\"false\" readonly=\"true\"/>\r\n                    </el-col>\r\n                  </el-row>\r\n\r\n                  <!--              第三行-->\r\n                  <el-row :gutter=\"24\" style=\"margin-top: 15px\">\r\n                    <!--                第三行第一列-->\r\n                    <el-col :span=\"12\">\r\n                      <ef-text label=\"出生日期\" name=\"aac006\" v-model=\"form.aac006\" format=\"yyyyMMdd\" :require=\"false\"\r\n                               readonly=\"true\"/>\r\n                    </el-col>\r\n                    <!--                第三行第二列-->\r\n                    <el-col :span=\"12\">\r\n                      <ef-text label=\"政治面貌\" name=\"aac029\" v-model=\"form.aac029\" :require=\"false\" readonly=\"true\"/>\r\n                    </el-col>\r\n                  </el-row>\r\n                </div><!--基础信息结束-->\r\n              </el-col>\r\n            </el-row>\r\n\r\n\r\n          </el-form>\r\n        </base-block><!--人员基础信息块结束-->\r\n\r\n\r\n        <!--        人员职务信息块-->\r\n        <base-block class=\"out-block\" style=\"margin-top: 15px\" rounded ref=\"exampleBlock2\">\r\n          <!--          职务信息-->\r\n          <div class=\"header-title\" slot=\"title\">人员职务信息</div>\r\n          <el-form ref=\"form\" :model=\"form\" label-position=\"left\" label-width=\"auto\">\r\n\r\n            <!--            第一行-->\r\n            <el-row :gutter=\"24\">\r\n              <!--              第一行第一列-->\r\n              <el-col :span=\"8\">\r\n                <ef-text label=\"职务\" name=\"aac049\" v-model=\"form.aac049\" :require=\"false\" readonly=\"true\"/>\r\n              </el-col>\r\n              <!--              第一行第二列-->\r\n              <el-col :span=\"8\">\r\n                <ef-text label=\"任该职务时间\" name=\"aac051\" v-model=\"form.aac051\" format=\"yyyyMMdd\" :require=\"false\"\r\n                         readonly=\"true\"/>\r\n              </el-col>\r\n              <!--              第一行第三列-->\r\n              <el-col :span=\"8\">\r\n                <ef-text label=\"职级\" name=\"aac059\" v-model=\"form.aac059\" :require=\"false\" readonly=\"true\"/>\r\n              </el-col>\r\n            </el-row>\r\n\r\n            <!--            第二行-->\r\n            <el-row :gutter=\"24\">\r\n              <!--              第二行第一列-->\r\n              <el-col :span=\"8\">\r\n                <ef-text label=\"任该职级时间\" name=\"aac061\" v-model=\"form.aac061\" format=\"yyyyMMdd\" :require=\"false\"\r\n                         readonly=\"true\"/>\r\n              </el-col>\r\n              <!--              第二行第二列-->\r\n              <el-col :span=\"8\">\r\n                <ef-text label=\"所属科室\" name=\"ks001\" v-model=\"form.ks001\" :require=\"false\" readonly=\"true\"/>\r\n              </el-col>\r\n              <!--              第二行第三列-->\r\n              <el-col :span=\"8\">\r\n                <ef-text label=\"任岗时间\" name=\"gwdate\" v-model=\"form.gwdate\" format=\"yyyyMMdd\" :require=\"false\"\r\n                         readonly=\"true\"/>\r\n              </el-col>\r\n            </el-row>\r\n\r\n            <!--            第三行岗位表格-->\r\n            <el-row :gutter=\"24\">\r\n              <el-col :span=\"3\">\r\n                <div style=\"text-align: right\">\r\n                  <span>所在岗位</span>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"21\" style=\"padding-left: 0px\">\r\n                <el-form ref=\"form\" :model=\"form\" label-position=\"left\" label-width=\"auto\">\r\n                  <ef-page-grid ref=\"grid1\" queryNo=\"Query_POSTS\" pageSize=\"5\" queryWindow=\"1\"/>\r\n                </el-form>\r\n              </el-col>\r\n            </el-row>\r\n\r\n          </el-form>\r\n        </base-block><!--人员职务信息块结束-->\r\n      </div>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport {BaseCtrl} from '/src/util/eframe';\r\nimport {cardid} from \"/src/util/validate\"; //身份证校验组件\r\nimport infoDic from \"./infoDic\"\r\nimport {\r\n  mapGetters\r\n} from \"vuex\";\r\nimport constData from \"../../../../const\";\r\n\r\nexport default {\r\n  name: \"persadd\",\r\n  mixins: [BaseCtrl],\r\n  computed: {\r\n    ...mapGetters([\"userInfo\",]),\r\n  },\r\n  data() {\r\n    const validateID = (rule, value, callback) => {\r\n      if (cardid(value)[0]) {\r\n        callback(new Error(cardid(value)[1]));\r\n      } else {\r\n        this.form.aac006 = value.substr(6, 8);\r\n        callback();\r\n      }\r\n      //  callback(new Error(\"请输入4位数的验证码\"));\r\n      //alert(1);\r\n    };\r\n    return {\r\n      compAccept: 'jpg,png',\r\n      compValueList: [],\r\n      title1: '人员综合信息详情',    //弹窗标题\r\n      onrequire: false,\r\n\r\n      form: { // 页面数据表单\r\n        ac01id: '',   // 用户人员id\r\n        base64: '',   // 上传文件字符串\r\n        aac003: '',   // 人员姓名\r\n        aac004: '',   // 性别\r\n        aac147: '',   // 证件号码\r\n        aac039: '',   // 人员性质\r\n        aac006: '',   // 出生日期\r\n        aac029: '',   // 政治面貌\r\n        aac049: '',   // 职务\r\n        aac051: '',   // 任该职务时间\r\n        aac059: '',   // 职级\r\n        aac061: '',   // 任该职级时间\r\n        ks001: '',    // 所属科室\r\n        gwdate: '',   // 任岗时间\r\n      }\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.loadData()\r\n    this.loadDocument()\r\n  },\r\n\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.$refs['grid1'].setInitFun((queryGrid) => {\r\n        this.doQuery()\r\n      });\r\n    });\r\n  },\r\n\r\n  methods: {\r\n\r\n    loadData() {\r\n      //获取主页面参数\r\n      let params = this.$attrs.params.dataItem;\r\n      if (params) {\r\n        if (params.get('AC01ID')) {\r\n          this.form.ac01id = params.get('AC01ID');\r\n        }\r\n        if (params.get('姓名')) {\r\n          this.form.aac003 = params.get('姓名');\r\n        }\r\n        if (params.get('性别')) {\r\n          this.form.aac004 = infoDic.dic_AAC004[params.get('性别')];\r\n        }\r\n        if (params.get('证件号码')) {\r\n          this.form.aac147 = params.get('证件号码');\r\n        }\r\n        if (params.get('人员性质')) {\r\n          this.form.aac039 = infoDic.dic_AAC039[params.get('人员性质')];\r\n        }\r\n        if (params.get('出生日期')) {\r\n          this.form.aac006 = params.get('出生日期').split(' ')[0];\r\n        }\r\n        if (params.get('政治面貌')) {\r\n          this.form.aac029 = infoDic.dic_AAC029[params.get('政治面貌')];\r\n        }\r\n        if (params.get('职务')) {\r\n          this.form.aac049 = infoDic.dic_AAC049[params.get('职务')];\r\n        }\r\n        if (params.get('任职务时间')) {\r\n          this.form.aac051 = params.get('任职务时间').split(' ')[0];\r\n        }\r\n        if (params.get('职级')) {\r\n          this.form.aac059 = infoDic.dic_AAC059[params.get('职级')];\r\n        }\r\n        if (params.get('任职级时间')) {\r\n          this.form.aac061 = params.get('任职级时间').split(' ')[0];\r\n        }\r\n        if (params.get('所属科室')) {\r\n          this.form.ks001 = params.get('所属科室');\r\n        }\r\n        if (params.get('任岗时间')) {\r\n          this.form.gwdate = params.get('任岗时间').split(' ')[0];\r\n        }\r\n\r\n      }\r\n    },\r\n\r\n    //加载照片\r\n    loadDocument() {\r\n      let that = this;\r\n      let form2 = {\r\n        ac01id: this.form.ac01id\r\n      }\r\n      let callbackFun = function (data) {\r\n        //that.form = data\r\n        /*if(isNotNull(data.registertime)){\r\n          that.form.registertime = data.registertime.substring(0,10)\r\n        }*/\r\n        // that.form.fixmedins_name = \"苏州市阳澄湖生态休闲旅游度假区阳澄湖畔花苑社区卫生服务站\"\r\n        if (isNotNull(data.base64)) {\r\n          that.form.base64 = data.base64;\r\n          $(\"#docid\").attr(\"src\", \"data:image/jpeg;base64,\" + data.base64);\r\n        }\r\n      }\r\n      this.$eframe.submitTargetForm({\r\n        url: '/szybgzdtgl/baseinfo/pers/persinfomgt.action',\r\n        form: form2,\r\n        actionFunName: \"loadDocument\",\r\n        succFun: callbackFun,\r\n        failFun: null\r\n      });\r\n    },\r\n\r\n    doQuery() {\r\n      let that = this;\r\n      let whereCondition = \"1=1\";\r\n\r\n      if (that.form.info !== null && that.form.info !== \"\") {\r\n        whereCondition += \" and Ac01id = '\" + this.form.ac01id + \"'\";\r\n      }\r\n\r\n      let queryGrid = this.$refs['grid1'].getWidget();\r\n      queryGrid.selectAll = function (e, grid) {\r\n        console.log(\"selectAll\");\r\n      };\r\n      queryGrid.selectRow = function (e, dataItem, grid, row) {\r\n        console.log(\"selectRole\" + dataItem.QUERYNO);\r\n      };\r\n      queryGrid.doRefresh({\r\n        whereCondition: whereCondition,\r\n        parameters: {\r\n          ac01id: that.form.ac01id\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>"],"sourceRoot":"src/views/szybgzdtgl/baseinfo/staffInfo"}]}